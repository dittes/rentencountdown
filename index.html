<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Berechnen Sie Ihren pers√∂nlichen Countdown zum Renteneintritt. Erfahren Sie, wie lange es noch bis zu Ihrer Rente dauert und informieren Sie sich √ºber wichtige Aspekte der Altersvorsorge.">
    <meta name="keywords" content="Rentencountdown, Renteneintritt, Rentenalter, Altersvorsorge, Rente berechnen, Countdown zur Rente, Ruhestand">
    <meta name="author" content="RentenCountdown">
    <meta property="og:title" content="‚è∞ Rentencountdown - Ihr Weg zum Ruhestand">
    <meta property="og:description" content="Personalisierter Countdown bis zu Ihrer Rente. Jetzt Renteneintritt berechnen und √ºber Altersvorsorge informieren.">
    <meta property="og:type" content="website">
    <title>‚è∞ Rentencountdown - Ihr pers√∂nlicher Countdown zum Ruhestand</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>‚è∞ Rentencountdown</h1>
        
        <div class="form-container hidden" id="birthdayForm">
            <div class="form-header">
                <h3>Geburtsdatum eingeben</h3>
                <button class="close-button" onclick="hideDatePicker()">√ó</button>
            </div>
            <input type="date" id="birthday" required>
            <button onclick="setBirthday()">Countdown starten</button>
        </div>

        <div id="countdown" class="countdown">
            <div class="countdown-item">
                <div class="number" id="years">0</div>
                <div class="label">Jahre</div>
            </div>
            <div class="countdown-item">
                <div class="number" id="months">0</div>
                <div class="label">Monate</div>
            </div>
            <div class="countdown-item">
                <div class="number" id="days">0</div>
                <div class="label">Tage</div>
            </div>
            <div class="countdown-item">
                <div class="number" id="hours">0</div>
                <div class="label">Stunden</div>
            </div>
            <div class="countdown-item">
                <div class="number" id="seconds">0</div>
                <div class="label">Sekunden</div>
            </div>
        </div>
        <div class="retirement-date-container">
            <span class="retirement-date" id="retirementDate"></span>
        </div>
    </div>

    <div class="bottom-buttons">
        <button class="action-button" onclick="sharePage()">
            üîó<span>Teilen</span>
        </button>
        <button class="action-button" onclick="toggleSettings()">
            ‚öôÔ∏è<span>Einstellungen</span>
        </button>
        <button class="action-button" onclick="toggleInfo()">
            ‚ÑπÔ∏è<span>Mehr Infos</span>
        </button>
    </div>

    <nav class="navigation">
        <a href="https://dittes.info/contact/" target="_blank">Impressum</a>
    </nav>

    <div class="settings-panel" id="settingsPanel">
        <div class="settings-panel-header">
            <h2>Einstellungen</h2>
            <button class="close-button" onclick="toggleSettings()" title="Schlie√üen">√ó</button>
        </div>
        <div class="settings-content">
            <div class="settings-group">
                <h3>Pers√∂nliche Einstellungen</h3>
                <button class="settings-button" onclick="showDatePicker()">
                    üìÖ Datum √§ndern
                </button>
                <button class="settings-button" onclick="addToHomescreen()">
                    üì± Als Startseite hinzuf√ºgen
                </button>
            </div>
            <div class="settings-group">
                <h3>Design</h3>
                <select class="background-select" onchange="selectBackground(this.value)">
                    <option value="0">Hintergrund 1 - Berge</option>
                    <option value="1">Hintergrund 2 - Sonnenuntergang</option>
                    <option value="2">Hintergrund 3 - Meer</option>
                    <option value="3">Hintergrund 4 - Wald</option>
                </select>
            </div>
        </div>
    </div>

    <div class="info-panel" id="infoPanel">
        <div class="info-panel-header">
            <h2>Informationen zur Rente</h2>
            <button class="close-button" onclick="toggleInfo()" title="Schlie√üen">√ó</button>
        </div>
        <div class="info-content">
            <h3>Der Weg in den Ruhestand</h3>
            <p>Der Rentencountdown ist Ihr pers√∂nlicher Begleiter auf dem Weg zum wohlverdienten Ruhestand. Mit unserem innovativen Tool k√∂nnen Sie genau verfolgen, wie viel Zeit noch bis zu Ihrem Renteneintritt verbleibt.</p>

            <h3>Das Renteneintrittsalter in Deutschland</h3>
            <p>Das gesetzliche Renteneintrittsalter liegt aktuell bei 67 Jahren. Diese Regelung wurde schrittweise eingef√ºhrt, um dem demografischen Wandel und der steigenden Lebenserwartung gerecht zu werden.</p>

            <h3>Wichtige Fakten zur Altersvorsorge</h3>
            <p>Die gesetzliche Rente ist nur eine S√§ule der Altersvorsorge. Experten empfehlen eine Kombination aus:</p>
            <ul>
                <li>Gesetzlicher Rentenversicherung</li>
                <li>Betrieblicher Altersvorsorge</li>
                <li>Privater Vorsorge (z.B. Riester-Rente oder private Rentenversicherung)</li>
            </ul>

            <h3>√úber unseren Countdown</h3>
            <p>Der Rentencountdown berechnet pr√§zise die verbleibende Zeit bis zu Ihrem pers√∂nlichen Renteneintritt. Er ber√ºcksichtigt dabei:</p>
            <ul>
                <li>Jahre, Monate, Tage, Stunden und Sekunden</li>
                <li>Ihr individuelles Geburtsdatum</li>
                <li>Das aktuelle gesetzliche Renteneintrittsalter</li>
            </ul>
        </div>
    </div>

    <script>
        const backgrounds = [
            'https://images.unsplash.com/photo-1509475826633-fed577a2c71b?ixlib=rb-4.0.3&auto=format&fit=crop&w=2071&q=80',
            'https://images.unsplash.com/photo-1494783367193-149034c05e8f?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80',
            'https://images.unsplash.com/photo-1499363536502-87642509e31b?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80',
            'https://images.unsplash.com/photo-1508615039623-a25605d2b022?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80'
        ];

        function initBackground() {
            const savedBg = localStorage.getItem('selectedBackground') || backgrounds[0];
            document.body.style.backgroundImage = `linear-gradient(rgba(26, 26, 46, 0.85), rgba(22, 33, 62, 0.85)), url('${savedBg}')`;
            
            // Set the select value
            const index = backgrounds.indexOf(savedBg);
            if (index !== -1) {
                document.querySelector('.background-select').value = index;
            }
        }

        function selectBackground(index) {
            const newBg = backgrounds[index];
            document.body.style.backgroundImage = `linear-gradient(rgba(26, 26, 46, 0.85), rgba(22, 33, 62, 0.85)), url('${newBg}')`;
            localStorage.setItem('selectedBackground', newBg);
        }

        function toggleInfo() {
            const infoPanel = document.getElementById('infoPanel');
            const settingsPanel = document.getElementById('settingsPanel');
            
            if (settingsPanel.classList.contains('active')) {
                settingsPanel.classList.remove('active');
            }
            
            infoPanel.classList.toggle('active');
            adjustBottomButtons();
        }

        function toggleSettings() {
            const settingsPanel = document.getElementById('settingsPanel');
            const infoPanel = document.getElementById('infoPanel');
            
            if (infoPanel.classList.contains('active')) {
                infoPanel.classList.remove('active');
            }
            
            settingsPanel.classList.toggle('active');
            adjustBottomButtons();
        }

        function adjustBottomButtons() {
            const bottomButtons = document.querySelector('.bottom-buttons');
            const infoPanel = document.getElementById('infoPanel');
            const settingsPanel = document.getElementById('settingsPanel');
            
            if (infoPanel.classList.contains('active')) {
                bottomButtons.style.bottom = `${infoPanel.clientHeight + 20}px`;
            } else if (settingsPanel.classList.contains('active')) {
                bottomButtons.style.bottom = `${settingsPanel.clientHeight + 20}px`;
            } else {
                bottomButtons.style.bottom = '20px';
            }
        }

        function showDatePicker() {
            document.getElementById('birthdayForm').classList.remove('hidden');
            toggleSettings(); // Close settings panel
        }

        function hideDatePicker() {
            document.getElementById('birthdayForm').classList.add('hidden');
        }

        function setBirthday() {
            const birthday = document.getElementById('birthday').value;
            if (birthday) {
                localStorage.setItem('birthday', birthday);
                hideDatePicker();
                startCountdown(birthday);
            }
        }

        function sharePage() {
            const birthday = localStorage.getItem('birthday');
            if (birthday) {
                const shareUrl = `${window.location.origin}${window.location.pathname}?birth=${birthday}`;
                if (navigator.share) {
                    navigator.share({
                        title: 'Mein Rentencountdown',
                        text: 'Schau dir meinen Rentencountdown an!',
                        url: shareUrl
                    }).catch(console.error);
                } else {
                    navigator.clipboard.writeText(shareUrl).then(() => {
                        alert('Link wurde in die Zwischenablage kopiert!');
                    }).catch(console.error);
                }
            }
        }

        function addToHomescreen() {
            if (window.matchMedia('(display-mode: standalone)').matches) {
                alert('Die Webseite ist bereits als App installiert!');
                return;
            }

            if (window.navigator.standalone === true) {
                alert('Die Webseite ist bereits zum Homescreen hinzugef√ºgt!');
                return;
            }

            if (/iPhone|iPad|iPod/.test(navigator.userAgent)) {
                alert('Um die Seite zum Homescreen hinzuzuf√ºgen:\n1. Tippen Sie auf das Teilen-Symbol\n2. W√§hlen Sie "Zum Home-Bildschirm"');
            } else if (/Android/.test(navigator.userAgent)) {
                alert('Um die Seite zum Homescreen hinzuzuf√ºgen:\n1. Tippen Sie auf die drei Punkte (‚ãÆ)\n2. W√§hlen Sie "Zum Startbildschirm hinzuf√ºgen"');
            } else {
                alert('F√ºgen Sie diese Seite zu Ihren Lesezeichen hinzu:\n' + 
                      (navigator.userAgent.toLowerCase().indexOf('mac') != -1 ? 'Command (‚åò)' : 'Strg') + 
                      ' + D');
            }
        }

        function startCountdown(birthday) {
            document.getElementById('countdown').style.display = 'flex';
            
            const birthDate = new Date(birthday);
            const retirementDate = new Date(birthDate);
            retirementDate.setFullYear(birthDate.getFullYear() + 67);
            
            const options = { 
                day: '2-digit', 
                month: '2-digit', 
                year: 'numeric' 
            };
            document.getElementById('retirementDate').textContent = 
                `Renteneintritt am: ${retirementDate.toLocaleDateString('de-DE', options)}`;

            function updateCountdown() {
                const now = new Date();
                const difference = retirementDate - now;

                if (difference > 0) {
                    const years = Math.floor(difference / (1000 * 60 * 60 * 24 * 365));
                    const months = Math.floor((difference % (1000 * 60 * 60 * 24 * 365)) / (1000 * 60 * 60 * 24 * 30));
                    const days = Math.floor((difference % (1000 * 60 * 60 * 24 * 30)) / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const seconds = Math.floor((difference % (1000 * 60)) / 1000);

                    document.getElementById('years').textContent = years;
                    document.getElementById('months').textContent = months;
                    document.getElementById('days').textContent = days;
                    document.getElementById('hours').textContent = hours;
                    document.getElementById('seconds').textContent = seconds;
                } else {
                    document.getElementById('countdown').innerHTML = '<h2>Sie sind bereits im Ruhestand! üéâ</h2>';
                }
            }

            updateCountdown();
            setInterval(updateCountdown, 1000);
        }

        function init() {
            initBackground();
            
            const urlParams = new URLSearchParams(window.location.search);
            const urlDate = urlParams.get('birth');
            
            if (urlDate) {
                const formattedDate = new Date(urlDate).toISOString().split('T')[0];
                document.getElementById('birthday').value = formattedDate;
                setBirthday();
            } else {
                const storedBirthday = localStorage.getItem('birthday');
                if (storedBirthday) {
                    document.getElementById('birthday').value = storedBirthday;
                    startCountdown(storedBirthday);
                } else {
                    showDatePicker();
                }
            }

            // Add window resize listener for mobile adjustments
            window.addEventListener('resize', adjustBottomButtons);
        }

        init();
    </script>
</body>
